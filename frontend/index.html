<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BabyCareBot Dashboard</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="header">
            <div class="header-content">
                <h1 class="app-title">üë∂ BabyCareBot</h1>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">
            <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
            <div id="loading" class="loading">
                <div class="spinner"></div>
                <p>–ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ...</p>
            </div>

            <!-- –î–∞—à–±–æ—Ä–¥ -->
            <div id="dashboard" class="dashboard hidden">
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ–º—å–µ -->
                <div class="family-info">
                    <h2 id="familyName" class="family-name">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ–º—å–∏</h2>
                    <div class="baby-info">
                        <span id="babyAge" class="baby-age">–í–æ–∑—Ä–∞—Å—Ç: 0 –º–µ—Å.</span>
                        <span id="babyBirthDate" class="baby-birth-date"></span>
                    </div>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="stats-section">
                    <div class="stats-header">
                        <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                        <div class="period-selector">
                            <button class="period-btn active" data-period="today">–°–µ–≥–æ–¥–Ω—è</button>
                            <button class="period-btn" data-period="week">–ù–µ–¥–µ–ª—è</button>
                            <button class="period-btn" data-period="month">–ú–µ—Å—è—Ü</button>
                        </div>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card feeding">
                            <div class="stat-icon">üçº</div>
                            <div class="stat-content">
                                <div class="stat-number" id="todayFeedings">0</div>
                                <div class="stat-label">–ö–æ—Ä–º–ª–µ–Ω–∏—è</div>
                            </div>
                        </div>
                        <div class="stat-card diaper">
                            <div class="stat-icon">üß∑</div>
                            <div class="stat-content">
                                <div class="stat-number" id="todayDiapers">0</div>
                                <div class="stat-label">–ü–æ–¥–≥—É–∑–Ω–∏–∫–∏</div>
                            </div>
                        </div>
                        <div class="stat-card bath">
                            <div class="stat-icon">üõÅ</div>
                            <div class="stat-content">
                                <div class="stat-number" id="todayBaths">0</div>
                                <div class="stat-label">–ö—É–ø–∞–Ω–∏—è</div>
                            </div>
                        </div>
                        <div class="stat-card activity">
                            <div class="stat-icon">üéÆ</div>
                            <div class="stat-content">
                                <div class="stat-number" id="todayActivities">0</div>
                                <div class="stat-label">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                <div class="settings-section">
                    <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                    <div class="settings-grid">
                        <div class="setting-card">
                            <div class="setting-icon">üçº</div>
                            <div class="setting-content">
                                <div class="setting-title">–ò–Ω—Ç–µ—Ä–≤–∞–ª –∫–æ—Ä–º–ª–µ–Ω–∏—è</div>
                                <div class="setting-value" id="feedInterval">3 —á–∞—Å–∞</div>
                            </div>
                        </div>
                        <div class="setting-card">
                            <div class="setting-icon">üß∑</div>
                            <div class="setting-content">
                                <div class="setting-title">–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø–æ–¥–≥—É–∑–Ω–∏–∫–æ–≤</div>
                                <div class="setting-value" id="diaperInterval">2 —á–∞—Å–∞</div>
                            </div>
                        </div>
                        <div class="setting-card">
                            <div class="setting-icon">üõÅ</div>
                            <div class="setting-content">
                                <div class="setting-title">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –∫—É–ø–∞–Ω–∏–∏</div>
                                <div class="setting-value" id="bathReminders">–í–∫–ª—é—á–µ–Ω—ã</div>
                            </div>
                        </div>
                        <div class="setting-card">
                            <div class="setting-icon">üéÆ</div>
                            <div class="setting-content">
                                <div class="setting-title">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ–± –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</div>
                                <div class="setting-value" id="activityReminders">–í–∫–ª—é—á–µ–Ω—ã</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è -->
                <div class="last-events">
                    <h3>‚è∞ –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è</h3>
                    
                    <!-- –ö–æ—Ä–º–ª–µ–Ω–∏–µ -->
                    <div class="event-card feeding" id="lastFeeding">
                        <div class="event-icon">üçº</div>
                        <div class="event-content">
                            <div class="event-title">–ö–æ—Ä–º–ª–µ–Ω–∏–µ</div>
                            <div class="event-time" id="lastFeedingTime">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</div>
                            <div class="event-author" id="lastFeedingAuthor"></div>
                        </div>
                        <div class="event-status" id="feedingStatus"></div>
                    </div>

                    <!-- –ü–æ–¥–≥—É–∑–Ω–∏–∫ -->
                    <div class="event-card diaper" id="lastDiaper">
                        <div class="event-icon">üß∑</div>
                        <div class="event-content">
                            <div class="event-title">–°–º–µ–Ω–∞ –ø–æ–¥–≥—É–∑–Ω–∏–∫–∞</div>
                            <div class="event-time" id="lastDiaperTime">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</div>
                            <div class="event-author" id="lastDiaperAuthor"></div>
                        </div>
                        <div class="event-status" id="diaperStatus"></div>
                    </div>

                    <!-- –ö—É–ø–∞–Ω–∏–µ -->
                    <div class="event-card bath" id="lastBath">
                        <div class="event-icon">üõÅ</div>
                        <div class="event-content">
                            <div class="event-title">–ö—É–ø–∞–Ω–∏–µ</div>
                            <div class="event-time" id="lastBathTime">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</div>
                            <div class="event-author" id="lastBathAuthor"></div>
                        </div>
                        <div class="event-status" id="bathStatus"></div>
                    </div>

                    <!-- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å -->
                    <div class="event-card activity" id="lastActivity">
                        <div class="event-icon">üéÆ</div>
                        <div class="event-content">
                            <div class="event-title">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
                            <div class="event-time" id="lastActivityTime">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</div>
                            <div class="event-author" id="lastActivityAuthor"></div>
                        </div>
                        <div class="event-status" id="activityStatus"></div>
                    </div>
                </div>

                <!-- –°–æ–Ω -->
                <div class="sleep-section">
                    <h3>üò¥ –°–æ–Ω</h3>
                    <div class="sleep-card" id="sleepCard">
                        <div class="sleep-icon">üåô</div>
                        <div class="sleep-content">
                            <div class="sleep-status" id="sleepStatus">–ú–∞–ª—ã—à –Ω–µ —Å–ø–∏—Ç</div>
                            <div class="sleep-duration" id="sleepDuration"></div>
                            <div class="sleep-author" id="sleepAuthor"></div>
                        </div>
                    </div>
                </div>

                <!-- –ì—Ä–∞—Ñ–∏–∫ –∏—Å—Ç–æ—Ä–∏–∏ -->
                <div class="history-section">
                    <h3>üìà –ò—Å—Ç–æ—Ä–∏—è (7 –¥–Ω–µ–π)</h3>
                    <div class="chart-container">
                        <canvas id="historyChart"></canvas>
                    </div>
                </div>

                <!-- –ß–ª–µ–Ω—ã —Å–µ–º—å–∏ -->
                <div class="family-members">
                    <h3>üë• –ß–ª–µ–Ω—ã —Å–µ–º—å–∏</h3>
                    <div class="members-list" id="membersList">
                        <!-- –ß–ª–µ–Ω—ã —Å–µ–º—å–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>

            <!-- –û—à–∏–±–∫–∞ -->
            <div id="error" class="error hidden">
                <div class="error-icon">‚ùå</div>
                <h3>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h3>
                <p id="errorMessage">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</p>
                <button class="retry-btn" onclick="loadDashboard()">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
            </div>
        </main>

        <!-- –í—ã–±–æ—Ä —Å–µ–º—å–∏ -->
        <div class="family-selector-bottom">
            <div class="family-selector-content">
                <label for="familySelect" class="family-select-label">–°–µ–º—å—è:</label>
                <select id="familySelect" class="family-select">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ–º—å—é...</option>
                </select>
            </div>
        </div>

        <!-- –§—É—Ç–µ—Ä -->
        <footer class="footer">
            <p>BabyCareBot Dashboard v1.0</p>
        </footer>
    </div>

    <!-- Chart.js –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>
